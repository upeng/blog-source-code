layout: database
title: 数据库范式的思考
date: 2016-06-25 16:32:12
tags: MySQL
categories: 数据库范式
---



还记得第一本数据库教程《数据库系统概论》，从最初的范式讲起，只记得当时学的还模模糊糊，今天又看到类似的文章【从范式谈起-余晟】，粗略总结一下数据库范式，也是加深一下记忆吧！在这之前，说下我对关系型数据库管理系统RDBMS和NOSQL的理解：RDBMS主要突出其R(Relation)关系；而NoSQL如：常见的MC、Redis、MongoDB，支持key-value型等简单的数据类型，适用于大数据时代的很多场景，为开发提供了巨大便利；使用场景不同，各有千秋。
<!-- more -->
数据库范式，简单的说就是**规范化，在不丢失数据的情况下，把表拆分成更小、冗余度更小的表，通过不同表之间的外键用链接join方式得到需求数据**，范式NF可以粗略的理解为一张数据表的表结构所符合的某种设计标准的级别，数据库范式也分为1NF，2NF，3NF，BCNF，4NF，5NF。

**通常一张表满足了第三范式，就认为这个表是规范化的，增删改查不会出现异常。**

### 第一范式：属性不可拆分
即表中的任何列（属性）都应当是承载信息的最小单位，不可再分；
*1NF是所有关系型数据库的最基本要求*
### 第二范式：主键必须最小
即：在满足第一范式的基础上，所有非主属性必须完全依赖于主键，而且不能依赖于主键的某个子集
![表格][1]
主键：（学号，课名），系主任通过学号就可以确定；上表不满足2NF

> 如何判断是否符合2NF？

* 第一步：找出数据表中所有的码。
* 第二步：根据第一步所得到的码，找出所有的主属性。
* 第三步：数据表中，除去所有的主属性，剩下的就都是非主属性了。
* 第四步：查看是否存在非主属性对码的部分函数依赖。

*2NF在1NF的基础之上，消除了非主属性对于码的部分函数依赖*

### 第三范式（3NF）：主键必须直接依赖，不能传递依赖
![表格][2]
上图表1符合3NF
上图表2主键是学号，其他3个是非主属性，学号->系名，系名->系主任；存在传递依赖，故表2不满足3NF
*3NF在2NF的基础之上，消除了非主属性对于码的传递函数依赖*。

更深入的理解：[知乎][3] ，注：文中图片均来源于此


  [1]: http://upeng.github.io/image/table1.png
  [2]: http://upeng.github.io/image/table2.png
  [3]: https://www.zhihu.com/question/24696366